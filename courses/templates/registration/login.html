{% extends "base.html" %}
{% load widget_tweaks %}

{% block title %}
  Log-in
{% endblock title %}

{% block content %}
  
  <div class="container col-xl-10 col-xxl-8 px-4 py-5 bg-light rounded-2" style="margin-top: 20px;">
    {% if form.errors %}
      <div class="row align-items-center g-lg-5 py-5">
        <div class="col-lg-7 text-center text-lg-start">
          <h1 class="display-4 fw-bold lh-1 mb-3">Log-in form</h1>
          <p class="col-lg-10 fs-4">
              Please enter a correct username and password. Note that both fields may be case-sensitive.
        </div>
        <div class="col-md-10 mx-auto col-lg-5">
          <form class="p-4 p-md-5 border rounded-3 bg-light" action="{% url 'login' %}" method="post">
            {% csrf_token %}
            <div class="form-floating mb-3">
              {% render_field form.username class="form-control is-invalid" id="id_username" placeholder="Username" %}
              <label for="id_username" class="form-label">{{ form.username.label }}</label>                                                
            </div>
            <div class="form-floating mb-3">
              {% render_field form.password class="form-control is-invalid" id="id_password" placeholder="Password" %}
              <label for="id_password" class="form-label">{{ form.password.label }}</label>                                                
            </div>
            
            <button class="w-100 btn btn-lg btn-primary" value="Log-in" type="submit">Log in</button>
            <hr class="my-4">
            <small class="text-muted">Or you can <a class="text-decoration-none" href="{% url 'student_registration' %}">register</a> instead</small>
          </form>
        </div>
      </div>
    {% else %}
      <div class="row align-items-center g-lg-5 py-5">
        <div class="col-lg-7 text-center text-lg-start">
          <h1 class="display-4 fw-bold lh-1 mb-3">Log-in form</h1>
          <p class="col-lg-10 fs-4">  
            Please, use the following form to log-in
          </p>
        </div>
        <div class="col-md-10 mx-auto col-lg-5">
          <form class="p-4 p-md-5 border rounded-3 bg-light" action="{% url 'login' %}" method="post">
            {% csrf_token %}
            <div class="form-floating mb-3">
              {% render_field form.username class="form-control" id="id_username" placeholder="Username" %}
              <label for="id_username" class="form-label">{{ form.username.label }}</label>
          </div>
          <div class="form-floating mb-3">
              {% render_field form.password class="form-control" id="id_password1" placeholder="Password" %}
              <label for="id_password" class="form-label">{{ form.password.label }}</label>
          </div>
            <button class="w-100 btn btn-lg btn-primary" value="Log-in" type="submit">Log in</button>
            <hr class="my-4">
            <small class="text-muted">Or you can <a class="text-decoration-none" href="{% url 'student_registration' %}">register</a> instead</small>
          </form>
        </div>
      </div>
    {% endif %}
  </div>
{% endblock content %}